<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Frases ðŸ’Œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <script>
    if (localStorage.getItem("accesoValeria") !== "true") {
      window.location.href = "clave.html";
    }
  </script>

  <h1>ðŸ’Œ Frases para Valeria ðŸ’Œ</h1>

  <div class="contenedor-frase">
    <div id="contenedorFrase" class="carta"></div>
    <div id="contador" class="contador"></div>
  </div>

  <button id="btnSiguiente">âž¡ Siguiente</button>
  <a href="index.html">â¬… Volver al inicio</a>

  <script src="frases.js"></script>
  <audio id="musica" src="music.mp3" loop></audio>

<div id="modal" style="display:none;">
  <p>ðŸŽµ Â¿Quieres que reproduzca la mÃºsica?</p>
  <button id="si">SÃ­</button>
  <button id="no">No</button>
  <p id="mensajeNo"></p>
  <button id="cerrar" style="display:none;">Cerrar</button>
</div>

<script>
const musica = document.getElementById('musica');
const modal = document.getElementById('modal');
const botonSi = document.getElementById('si');
const botonNo = document.getElementById('no');
const mensajeNo = document.getElementById('mensajeNo');
const botonCerrar = document.getElementById('cerrar');

// Mostrar modal solo si no respondiÃ³ antes
if (!localStorage.getItem('musicaValeria')) {
  modal.style.display = 'block';
}

botonSi.addEventListener('click', () => {
  musica.play();
  modal.style.display = 'none';
  localStorage.setItem('musicaValeria', 'true'); // recuerda que ya respondiÃ³
});

botonNo.addEventListener('click', () => {
  mensajeNo.textContent = "Te odio Valeria, pero igual escucharÃ¡s la mÃºsica";
  musica.play();
  botonCerrar.style.display = 'inline-block';
  localStorage.setItem('musicaValeria', 'true'); // recuerda que ya respondiÃ³
});

botonCerrar.addEventListener('click', () => {
  modal.style.display = 'none';
});

</script>
<audio id="musica" src="music.mp3" loop></audio>

<script>
  const music = document.getElementById('musica');
  window.addEventListener('load', () => {
    musica.play().catch(() => {
      // Si el navegador bloquea autoplay, se puede mostrar un mensaje o botÃ³n
      console.log("La mÃºsica no se pudo reproducir automÃ¡ticamente");
    });
  });
</script>

</body>
</html>
